# Legal Precedent Updater Cron
# Source: All ingested sources (weekly re-scan)
# Deployed by: Sovereign Compiler v1.0

version: "1.0"
name: "legal_precedent_updater_cron"
description: "Weekly cron curling new rulings; diff + PR on gaps"

configuration:
  schedule: "0 0 * * 0"  # Weekly on Sunday midnight
  auto_pr: true
  diff_on_update: true

monitored_sources:
  courts:
    - name: "Delaware Chancery Court"
      url: "https://courts.delaware.gov/chancery/"
      keywords:
        - "LLC"
        - "DAO"
        - "fiduciary duty"
        - "veil piercing"
        
    - name: "Wyoming Supreme Court"
      url: "https://www.courts.state.wy.us/"
      keywords:
        - "DAO"
        - "blockchain"
        - "smart contract"
        
    - name: "Federal District Courts"
      source: "PACER/CourtListener"
      keywords:
        - "cryptocurrency"
        - "DAO"
        - "DeFi"
        - "smart contract"

  regulators:
    - name: "SEC Enforcement"
      url: "https://www.sec.gov/enforcement-litigation"
      keywords:
        - "cryptocurrency"
        - "token"
        - "DAO"
        - "DeFi"
        
    - name: "CFTC Enforcement"
      url: "https://www.cftc.gov/LawRegulation/Enforcement"
      keywords:
        - "digital asset"
        - "DeFi"
        - "DAO"
        
    - name: "IRS Guidance"
      url: "https://www.irs.gov/newsroom"
      keywords:
        - "cryptocurrency"
        - "digital asset"
        - "virtual currency"
        
    - name: "FinCEN"
      url: "https://www.fincen.gov/news-room"
      keywords:
        - "virtual currency"
        - "cryptocurrency"

  legislative:
    - name: "Wyoming Legislature"
      url: "https://wyoleg.gov/"
      keywords:
        - "DAO"
        - "blockchain"
        - "digital asset"
        
    - name: "Congressional Crypto Bills"
      source: "Congress.gov"
      keywords:
        - "cryptocurrency"
        - "digital asset"
        - "stablecoin"

update_workflow:
  on_new_precedent:
    - step: "Ingest document"
      action: "Download and parse"
    - step: "Extract clauses"
      action: "NLP extraction of relevant provisions"
    - step: "Diff against current"
      action: "Compare with existing knowledge graph"
    - step: "Identify gaps"
      action: "Flag new protections or risks"
    - step: "Generate PR"
      action: "Create pull request with updates"
    - step: "Notify stakeholders"
      action: "Alert legal team and guardians"

pr_template:
  title: "[LEGAL PRECEDENT] {source} - {summary}"
  body: |
    ## New Legal Precedent Detected
    
    **Source:** {source}
    **Date:** {date}
    **Relevance:** {relevance_score}
    
    ### Summary
    {summary}
    
    ### Impact on DAO
    {impact_analysis}
    
    ### Recommended Actions
    {recommendations}
    
    ### Knowledge Graph Update
    - Clauses added: {clauses_added}
    - Existing clauses modified: {clauses_modified}
    
    ---
    Auto-generated by Legal Precedent Updater v1.0

storage:
  precedents: "legal/precedents/"
  knowledge_graph: "legal/legal_knowledge_graph.mmd"
  archive: "IPFS + Arweave"

notifications:
  channels:
    - type: "Discord"
      webhook: "${DISCORD_LEGAL_WEBHOOK}"
    - type: "Email"
      recipients: ["legal@strategickhaos.dao"]
  triggers:
    - "High-impact precedent"
    - "Enforcement action"
    - "Legislative change"
