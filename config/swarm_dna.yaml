# Sovereign Swarm DNA Genome Configuration
# Defines the genetic blueprint for agent orchestration, roles, and behavior

metadata:
  version: "1.0.0"
  schema_version: "1.0"
  created: "2025-11-24"
  description: "YAML DNA genome configuration for Sovereign Swarm architecture"
  author: "Strategickhaos DAO LLC"

# Trinity Architecture: Three-pillar cognitive framework
trinity:
  thesis:
    role: "Creator"
    description: "Initiates new ideas, proposes changes, generates solutions"
    polarity: "positive"
    capabilities:
      - "code_generation"
      - "architecture_design"
      - "documentation_creation"
      - "feature_proposals"
    
  antithesis:
    role: "Critic"
    description: "Challenges ideas, identifies flaws, ensures quality"
    polarity: "negative"
    capabilities:
      - "code_review"
      - "security_analysis"
      - "edge_case_detection"
      - "vulnerability_scanning"
    
  synthesis:
    role: "Integrator"
    description: "Merges perspectives, makes final decisions, maintains coherence"
    polarity: "neutral"
    capabilities:
      - "conflict_resolution"
      - "decision_making"
      - "integration_testing"
      - "release_management"

# Agent Configurations: Individual swarm members
agents:
  - name: "athena"
    type: "memory_engine"
    trinity_role: "synthesis"
    os_polarity: "darwin"  # macOS
    primary_functions:
      - "survivorship_bias_detection"
      - "institutional_memory"
      - "pattern_recognition"
    tools:
      - "vector_db"
      - "embeddings"
      - "rag_pipeline"
    security_clearance: "high"
    autonomy_level: 3  # Scale 1-5
    
  - name: "prometheus"
    type: "creator_agent"
    trinity_role: "thesis"
    os_polarity: "linux"
    primary_functions:
      - "code_generation"
      - "infrastructure_deployment"
      - "automation_scripting"
    tools:
      - "git"
      - "docker"
      - "kubernetes"
      - "terraform"
    security_clearance: "medium"
    autonomy_level: 4
    
  - name: "sentinel"
    type: "security_auditor"
    trinity_role: "antithesis"
    os_polarity: "linux"
    primary_functions:
      - "vulnerability_scanning"
      - "code_analysis"
      - "threat_detection"
    tools:
      - "codeql"
      - "semgrep"
      - "snyk"
      - "trivy"
    security_clearance: "high"
    autonomy_level: 2
    
  - name: "oracle"
    type: "decision_engine"
    trinity_role: "synthesis"
    os_polarity: "neutral"
    primary_functions:
      - "pr_approval"
      - "merge_decision"
      - "conflict_resolution"
    tools:
      - "github_api"
      - "code_review"
      - "test_analysis"
    security_clearance: "high"
    autonomy_level: 3
    
  - name: "scribe"
    type: "documentation_agent"
    trinity_role: "thesis"
    os_polarity: "darwin"
    primary_functions:
      - "documentation_generation"
      - "changelog_updates"
      - "readme_maintenance"
    tools:
      - "markdown"
      - "diagrams"
      - "api_docs"
    security_clearance: "low"
    autonomy_level: 4

# Orchestration Rules: How agents collaborate
orchestration:
  workflow:
    - stage: "proposal"
      roles: ["thesis"]
      description: "Agent proposes new changes or features"
      required_approvals: 0
      
    - stage: "critique"
      roles: ["antithesis"]
      description: "Agent reviews and identifies issues"
      required_approvals: 1
      dependencies: ["proposal"]
      
    - stage: "integration"
      roles: ["synthesis"]
      description: "Agent makes final decision and integrates"
      required_approvals: 2
      dependencies: ["proposal", "critique"]
  
  quantum_loop:
    enabled: true
    max_iterations: 10
    convergence_threshold: 0.95
    description: "Iterative refinement cycle through trinity stages"
  
  consensus:
    algorithm: "weighted_voting"
    quorum_required: 0.67  # 67% agreement needed
    tie_breaker: "synthesis"
    timeout_seconds: 300

# Security Configuration
security:
  encryption:
    at_rest: true
    in_transit: true
    algorithm: "AES-256-GCM"
    
  authentication:
    method: "oauth2"
    providers: ["github", "vault"]
    
  authorization:
    model: "rbac"  # Role-Based Access Control
    clearance_levels:
      - "low"      # Documentation, public info
      - "medium"   # Code changes, non-production
      - "high"     # Production deployments, secrets
      - "critical" # Architecture decisions, security
  
  audit:
    enabled: true
    log_all_actions: true
    retention_days: 90
    
  vulnerability_scanning:
    enabled: true
    frequency: "on_commit"
    tools: ["codeql", "dependabot"]
    block_on_critical: true

# Resource Management
resources:
  compute:
    max_concurrent_agents: 5
    cpu_per_agent: "1.0"
    memory_per_agent: "2Gi"
    
  storage:
    vector_db_size: "10Gi"
    log_retention: "30d"
    artifact_storage: "100Gi"
    
  network:
    rate_limit_per_agent: "100/minute"
    max_connections: 50
    timeout_seconds: 30

# Observability
observability:
  logging:
    level: "info"
    format: "json"
    destinations:
      - "stdout"
      - "loki"
      
  metrics:
    enabled: true
    exporter: "prometheus"
    port: 9090
    collect_interval: "30s"
    
  tracing:
    enabled: true
    provider: "opentelemetry"
    sampling_rate: 0.1

# Integration Points
integrations:
  github:
    enabled: true
    webhook_secret: "${GITHUB_WEBHOOK_SECRET}"
    default_branch: "main"
    pr_labels:
      - "swarm-generated"
      - "needs-review"
      
  discord:
    enabled: true
    bot_token: "${DISCORD_BOT_TOKEN}"
    command_prefix: "!"
    
  vector_db:
    provider: "pinecone"
    endpoint: "${VECTOR_DB_ENDPOINT}"
    api_key: "${VECTOR_DB_API_KEY}"
    
  ci_cd:
    provider: "github_actions"
    required_checks:
      - "lint"
      - "test"
      - "security-scan"

# Governance Rules
governance:
  branch_naming:
    pattern: "^(feature|bugfix|hotfix|docs|refactor)/[a-z0-9-]+$"
    examples:
      - "feature/yaml-dna-config"
      - "bugfix/security-vulnerability"
      - "docs/api-documentation"
      
  pr_requirements:
    min_approvals: 1
    require_linear_history: false
    require_signed_commits: false
    dismiss_stale_reviews: true
    
  commit_conventions:
    format: "conventional_commits"
    types:
      - "feat"     # New feature
      - "fix"      # Bug fix
      - "docs"     # Documentation
      - "style"    # Formatting
      - "refactor" # Code restructuring
      - "test"     # Tests
      - "chore"    # Maintenance
      
  merge_strategy:
    method: "squash"  # squash, merge, rebase
    auto_delete_branch: true
    
  release_policy:
    versioning: "semver"
    changelog_required: true
    tag_format: "v{major}.{minor}.{patch}"

# Swarm Behavior Configuration
swarm_behavior:
  mutation_rate: 0.1  # 10% chance of exploring new approaches
  learning_enabled: true
  memory_persistence: true
  
  collaboration_mode: "consensus"  # consensus, competitive, hierarchical
  
  failure_handling:
    retry_attempts: 3
    backoff_strategy: "exponential"
    fallback_to_human: true
    
  performance_optimization:
    cache_enabled: true
    parallel_execution: true
    max_parallelism: 3
