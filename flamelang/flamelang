#!/usr/bin/env python3
"""
FlameLang Main Executable
Sovereign Programming Language CLI
"""
import sys
import os

# Add flamelang directory to path
sys.path.insert(0, os.path.dirname(os.path.abspath(__file__)))

from core.repl import start_repl
from core.compiler import compile_file


def print_usage():
    """Print usage information"""
    print("""
ðŸ”¥ FlameLang v0.1.0 - Sovereign Programming Language

Usage:
  flamelang repl              Start interactive REPL
  flamelang run <file>        Execute FlameLang file
  flamelang help              Show this help
  flamelang version           Show version

Examples:
  flamelang repl
  flamelang run examples/demo.fl

ðŸ”¥ Stay sovereign.
""")


def main():
    """Main entry point"""
    if len(sys.argv) < 2:
        print_usage()
        return 1
    
    command = sys.argv[1].lower()
    
    if command == 'repl':
        start_repl()
        return 0
    
    elif command == 'run':
        if len(sys.argv) < 3:
            print("Error: No file specified")
            print("Usage: flamelang run <file>")
            return 1
        
        filename = sys.argv[2]
        if not os.path.exists(filename):
            print(f"Error: File not found: {filename}")
            return 1
        
        try:
            result = compile_file(filename)
            if result:
                print(result)
            return 0
        except Exception as e:
            print(f"Error: {e}")
            return 1
    
    elif command == 'version':
        print("ðŸ”¥ FlameLang v0.1.0")
        print("Sovereign Programming Language")
        print("Strategickhaos DAO LLC")
        return 0
    
    elif command == 'help':
        print_usage()
        return 0
    
    else:
        print(f"Unknown command: {command}")
        print_usage()
        return 1


if __name__ == '__main__':
    sys.exit(main())
