# ai_governance.yaml
# Strategickhaos DAO LLC / Valoryield Engine â€” AI Multi-Agent Governance v1
# Purpose: YAML-based governance for multi-agent AI systems with ethics veto and compliance
# Based on: Analysis of Claude/GPT policy mismatch (patentability-first vs defensive-publication-first)
# References: Duck.ai research, multi-agent swarm intelligence governance

version: "1.0"
created: "2025-11-25"
operator: "Domenic Garza (Node 137)"

# Ethics check configuration - Claude veto authority
ethics_check:
  veto:
    authority: claude
    description: "Claude wisdom node has veto power on ethical violations"
    scope:
      - harmful_content
      - deceptive_practices
      - privacy_violations
      - unauthorized_access
      - malicious_code_generation
  compliance:
    framework: 2025_regs
    standards:
      - eu_ai_act_2024
      - us_executive_order_14110
      - nist_ai_rmf_1_0
      - iso_iec_42001
    checks:
      - risk_classification
      - transparency_requirements
      - human_oversight
      - technical_documentation
  review_frequency: continuous
  escalation_path:
    - level: agent
      timeout_minutes: 5
    - level: human_reviewer
      timeout_minutes: 60
    - level: ethics_committee
      timeout_hours: 24

# Decay detection - circuit breaker for alignment drift
decay_detect:
  circuit_breaker:
    threshold: 0.6
    description: "Trigger circuit breaker when alignment score drops below 60%"
    metrics:
      - alignment_score
      - hallucination_rate
      - safety_violation_rate
      - user_feedback_score
  failure_library_ref: known_failure_modes  # Reference to failure modes defined in this file
  monitoring:
    interval_minutes: 5
    window_size: 100
    alert_on_trend: true
  recovery:
    auto_rollback: true
    quarantine_mode: true
    human_review_required: true

# Multi-agent policy resolution
agent_policy_resolution:
  conflict_detection:
    enabled: true
    description: "Detect policy conflicts between Claude (patentability-first) and GPT (defensive-publication-first)"
  resolution_strategy:
    primary: consensus
    fallback: human_decision
    timeout_minutes: 30
  agent_heuristics:
    claude:
      priority: patentability_first
      strengths:
        - legal_reasoning
        - risk_assessment
        - ethical_analysis
    gpt:
      priority: defensive_publication_first
      strengths:
        - technical_documentation
        - broad_coverage
        - rapid_generation
  patent_review_flag:
    enabled: true
    causes_conflict: true
    resolution: file_provisional_first

# Known failure modes from inter-agent analysis
known_failure_modes:
  - id: policy_drift
    probability: 0.20
    description: "Agent policies drift over time without governance"
    mitigation: enforcement.yaml_based  # Reference to yaml-based enforcement section
    
  - id: alignment_decay
    probability: 0.15
    description: "Gradual degradation of alignment quality"
    mitigation: decay_detect.circuit_breaker
    
  - id: inter_agent_conflict
    probability: 0.25
    description: "Conflicting recommendations from different agents"
    mitigation: agent_policy_resolution
    
  - id: hallucination_cascade
    probability: 0.10
    description: "One agent's hallucination amplified by others"
    mitigation: cross_validation

# Cross-validation requirements
cross_validation:
  enabled: true
  minimum_agents: 2
  consensus_threshold: 0.8
  validation_checks:
    - fact_verification
    - source_citation
    - logical_consistency
    - safety_compliance

# Agent roster and capabilities
agent_roster:
  - name: claude
    role: wisdom_node
    capabilities:
      - ethical_reasoning
      - legal_analysis
      - risk_assessment
    veto_authority: true
    
  - name: gpt
    role: generation_node
    capabilities:
      - content_generation
      - code_writing
      - documentation
    veto_authority: false
    
  - name: compliance_bot
    role: audit_node
    capabilities:
      - policy_enforcement
      - log_verification
      - regulatory_check
    veto_authority: false
    
  - name: security_scanner
    role: safety_node
    capabilities:
      - vulnerability_detection
      - threat_analysis
      - code_review
    veto_authority: true

# Governance enforcement mechanisms
enforcement:
  yaml_based:
    enabled: true
    prevents_policy_drift: true
    version_controlled: true
  constitutional_compliance:
    reference: ai_constitution.yaml
    check_frequency: per_request
  audit_logging:
    enabled: true
    immutable: true
    hash_chain: true

# 2025 Regulatory compliance mapping
compliance_2025:
  eu_ai_act:
    risk_category: high_risk
    requirements:
      - conformity_assessment
      - quality_management_system
      - technical_documentation
      - human_oversight
      - transparency
    deadline: "2025-08-02"
    
  us_executive_order:
    applicable_provisions:
      - safe_ai_development
      - red_team_testing
      - watermarking
      - incident_reporting
    
  nist_ai_rmf:
    functions:
      - govern
      - map
      - measure
      - manage
    documentation_required: true

# Strategic sequence enforcement
strategic_sequence:
  workflow:
    - step: provisional_patent_filing
      priority: 1
      agent_consensus_required: false
      locks_priority: true
      
    - step: selective_defensive_publication
      priority: 2
      after: provisional_patent_filing
      delay_days: 30
      agent_consensus_required: true
      
    - step: utility_conversion
      priority: 3
      deadline_months: 12
      
  yaml_governance:
    enforces_sequence: true
    prevents_premature_disclosure: true

# Audit trail
audit_trail:
  log_file: "audit/ai_governance.log"
  gpg_required: true
  sha256: true
  retention_years: 10
  events:
    - ethics_check
    - veto_exercised
    - policy_conflict
    - alignment_alert
    - compliance_check

# CI integration
ci_integration:
  github_actions:
    enabled: true
    workflow: ".github/workflows/ai-governance.yml"
  pre_deploy:
    ethics_check: required
    compliance_check: required
  post_deploy:
    monitoring: continuous
    alerting: enabled
