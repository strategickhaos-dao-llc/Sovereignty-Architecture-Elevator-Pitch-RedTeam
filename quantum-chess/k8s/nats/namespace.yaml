apiVersion: v1
kind: Namespace
metadata:
  name: quantum-chess
  labels:
    app.kubernetes.io/name: quantum-chess
    app.kubernetes.io/part-of: sovereignty-architecture
    purpose: wargame-simulator
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: nats-config
  namespace: quantum-chess
data:
  nats.conf: |
    # NATS Configuration for Quantum Chess Wargame Simulator
    # Quantum Entanglement Layer
    
    server_name: quantum-chess-nats
    
    # Clustering for high availability
    cluster {
      name: quantum-chess-cluster
      port: 6222
      routes: [
        nats-route://nats-0.nats-headless.quantum-chess.svc.cluster.local:6222
        nats-route://nats-1.nats-headless.quantum-chess.svc.cluster.local:6222
        nats-route://nats-2.nats-headless.quantum-chess.svc.cluster.local:6222
      ]
    }
    
    # JetStream for persistent messaging
    jetstream {
      store_dir: /data/jetstream
      max_memory_store: 256M
      max_file_store: 1G
    }
    
    # Logging
    debug: false
    trace: false
    logtime: true
    
    # Authorization (in production, use proper auth)
    # authorization {
    #   users = [
    #     { user: red-team, password: $RED_TEAM_PASSWORD, permissions: { publish: ["attack.>", "probe.>"], subscribe: ["defend.>", "detect.>"] } }
    #     { user: blue-team, password: $BLUE_TEAM_PASSWORD, permissions: { publish: ["defend.>", "detect.>"], subscribe: ["attack.>", "probe.>"] } }
    #     { user: legion, password: $LEGION_PASSWORD, permissions: { publish: [">"], subscribe: [">"] } }
    #   ]
    # }
