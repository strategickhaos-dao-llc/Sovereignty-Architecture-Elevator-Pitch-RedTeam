=================================================================
    TOOLS REFINERY v0.1 - LIVE DEMONSTRATION
=================================================================

Server running at: http://127.0.0.1:8211

-----------------------------------------------------------------
1. SERVER INFO
-----------------------------------------------------------------
$ curl http://localhost:8211/
{
    "name": "Tools Refinery",
    "version": "0.1",
    "description": "Safe, idempotent tools for LLM clients",
    "endpoints": {
        "tools": "/v1/tools/*",
        "openapi": "/openapi.json",
        "docs": "/docs"
    }
}

-----------------------------------------------------------------
2. HEALTH CHECK
-----------------------------------------------------------------
$ curl -X POST http://localhost:8211/v1/tools/system_health \
    -H "X-API-Key: test-key" -H "Content-Type: application/json" \
    -d '{}'
{
    "result": "Health Check:\n\n- Config file: \u2713\n- Tools modules: 5\n- Obsidian vaults: 1/2 accessible\n\nStatus: Operational",
    "success": true
}

-----------------------------------------------------------------
3. LIST AVAILABLE TOOLS (showing first 5)
-----------------------------------------------------------------
$ curl -X POST http://localhost:8211/v1/tools/system_list_available_tools \
    -H "X-API-Key: test-key" -H "Content-Type: application/json" \
    -d '{}'
Available Tools (15 total):

- **git_create_snippet** (git)
  Create a code snippet with line numbers from a file at a specific commit.

- **git_get_file_at_commit** (git)
  Retrieve the content of a file at a specific git commit or ref.

- **git_log_summary** (git)
  Get a summary of recent git commits, optionally for a specific file.

- **obsidian_create_canvas** (obsidian)
  Create an Obsidian canvas file for visual organization.

- **obsidian_create_note** (obsidian)
  Create a new Obsidian note with specified content.

- **obsidian_open_note** (obsidian)
  Read the full text of a single Obsidian markdown note.

- **obsidian_search_vault** (obsidian)
  Search for notes containing specific text in an Obsidian vault.

- **osint_add_to_graph** (osint)
  Add an entity to an OSINT investigation graph with properties and relationships.
... (10 more tools)

-----------------------------------------------------------------
4. GIT LOG SUMMARY
-----------------------------------------------------------------
$ curl -X POST http://localhost:8211/v1/tools/git_log_summary \
    -H "X-API-Key: test-key" -H "Content-Type: application/json" \
    -d '{"max_commits": 3}'
{
    "result": "f4b8fda - Add comprehensive usage examples and Python client code (copilot-swe-agent[bot], 59 seconds ago)\n857579f - Address code review feedback: remove unused imports, improve error handling (copilot-swe-agent[bot], 3 minutes ago)\n68695c4 - Implement Tools Refinery v0.1 with 15 working tools (copilot-swe-agent[bot], 6 minutes ago)",
    "success": true
}

-----------------------------------------------------------------
5. AUTHENTICATION TEST (should fail)
-----------------------------------------------------------------
$ curl -X POST http://localhost:8211/v1/tools/system_health \
    -H "Content-Type: application/json" -d '{}'
{
    "error": "Unauthorized",
    "message": "Invalid or missing API key"
}

=================================================================
           ALL TOOLS WORKING AS EXPECTED ✓
=================================================================
15 tools registered and tested:
  • Obsidian: open_note, create_note, create_canvas, search_vault
  • Git: get_file_at_commit, log_summary, create_snippet
  • Web: save_page_as_md, save_har, extract_har_domains
  • OSINT: add_to_graph, attach_methodology_note
  • System: health, list_tools, list_vaults
=================================================================
