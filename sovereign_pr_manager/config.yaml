# SovereignPRManager Configuration
# Autonomous PR review, validation, and merge orchestration

# GitHub Configuration
github:
  token: ${GITHUB_TOKEN}  # From environment variable
  repo: "Strategickhaos/Sovereignty-Architecture-Elevator-Pitch-"
  org: "Strategickhaos-Swarm-Intelligence"

# AI API Configuration
ai_apis:
  anthropic_key: ${ANTHROPIC_API_KEY}
  openai_key: ${OPENAI_API_KEY}
  xai_key: ${XAI_API_KEY}  # When Grok enterprise available

# NATS Message Queue Configuration
nats:
  url: "nats://localhost:4222"
  subjects:
    pr_new: "pr.new"
    pr_review: "pr.review"
    pr_decision: "pr.decision"

# Merge Confidence Thresholds
merge_thresholds:
  auto_merge: 0.90  # 90% confidence required for auto-merge
  security_veto: 0.80  # Security review below 80% = no merge
  sovereignty_minimum: 0.70  # Must meet 70% sovereignty standards

# Discord Integration
discord:
  webhook_url: ${DISCORD_WEBHOOK_URL}
  channels:
    pr_notifications: "#pr-automation"
    human_review: "#requires-human"
    alerts: "#alerts"

# Declaration Configuration
declaration:
  path: "README.md"  # Path to Technical Declaration
  enforce: true  # Enforce alignment with declaration

# Polling Configuration
poll_interval: 10  # Seconds between PR checks

# Audit Configuration
audit:
  enabled: true
  elasticsearch_url: ${ELASTICSEARCH_URL}
  index_prefix: "sovereignpr-"
  retention_days: 90

# Security Settings
security:
  require_signed_commits: false  # Enable when GPG signing is set up
  require_code_owners_review: false
  allow_self_merge: false
  protected_branches:
    - main
    - production

# AI Review Configuration
ai_review:
  enabled: true
  parallel_reviews: 4
  timeout_seconds: 120
  retry_count: 3
  models:
    security: "claude-sonnet-4-20250514"
    architecture: "gpt-4o"
    sovereignty: "claude-sonnet-4-20250514"
    performance: "gpt-4o"

# Notification Settings
notifications:
  discord:
    enabled: true
    on_merge: true
    on_block: true
    on_review_required: true
  email:
    enabled: false
    recipients: []

# Processing Options
processing:
  rate_limit_seconds: 10
  max_concurrent_prs: 5
  skip_draft_prs: false
  skip_wip_prs: true  # Skip PRs with "WIP" in title

# Governance
governance:
  require_human_approval_for:
    - security_critical
    - infrastructure_changes
    - financial_impact
  human_reviewers:
    - "Strategickhaos"
  bypass_human_review_if_confidence_above: 0.95
