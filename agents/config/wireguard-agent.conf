# WireGuard VPN Configuration Template for Agent Access
# Replace placeholder values with actual configuration

[Interface]
# Agent node configuration
PrivateKey = <AGENT_PRIVATE_KEY>
Address = 10.100.0.2/24
DNS = 10.100.0.1

# Optional: Set up routing table
Table = auto

# Optional: Script to run when interface comes up
# Note: Replace 'eth0' with your actual outbound interface (e.g., ens33, enp0s3)
# Find your interface with: ip route | grep default
# PostUp = iptables -A FORWARD -i %i -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
# PostDown = iptables -D FORWARD -i %i -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE

[Peer]
# Kubernetes cluster VPN endpoint
PublicKey = <CLUSTER_PUBLIC_KEY>
Endpoint = <CLUSTER_VPN_ENDPOINT_IP>:51820
AllowedIPs = 10.100.0.0/24, 10.200.0.0/16
PersistentKeepalive = 25

# Additional peer configurations can be added below
# [Peer]
# PublicKey = <ANOTHER_PEER_PUBLIC_KEY>
# AllowedIPs = 10.100.0.3/32
