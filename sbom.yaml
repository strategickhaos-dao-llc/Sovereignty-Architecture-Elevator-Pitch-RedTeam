# ============================================================================
# SOFTWARE BILL OF MATERIALS (SBOM) - CycloneDX Format
# ============================================================================
# Sovereignty Stack Validation Module v1.0
#
# This SBOM provides a comprehensive inventory of all software components,
# dependencies, and their relationships within the sovereignty stack.
#
# Format: CycloneDX 1.5 (YAML)
# Copyright (c) 2025 Strategickhaos DAO LLC
# SPDX-License-Identifier: MIT
# ============================================================================

bomFormat: CycloneDX
specVersion: "1.5"
version: 1
serialNumber: urn:uuid:sovereignty-stack-sbom-v1
metadata:
  timestamp: "2025-01-01T00:00:00Z"
  tools:
    - vendor: Strategickhaos DAO LLC
      name: Sovereignty Stack Generator
      version: "1.0.0"
  authors:
    - name: Strategickhaos DAO LLC
      email: security@strategickhaos.io
  component:
    type: application
    name: Sovereignty Stack Validation Module
    version: "1.0.0"
    description: |
      A portable, self-verifying sovereign compute environment that performs
      hash-proven integrity checks on critical stack files and validates
      execution readiness across a full cloud-to-local pipeline.
    licenses:
      - license:
          id: MIT
    purl: pkg:github/Strategickhaos/Sovereignty-Architecture-Elevator-Pitch-@1.0.0
    externalReferences:
      - type: website
        url: https://github.com/Strategickhaos/Sovereignty-Architecture-Elevator-Pitch-
      - type: vcs
        url: https://github.com/Strategickhaos/Sovereignty-Architecture-Elevator-Pitch-.git
      - type: issue-tracker
        url: https://github.com/Strategickhaos/Sovereignty-Architecture-Elevator-Pitch-/issues

# ============================================================================
# COMPONENTS
# ============================================================================
components:
  # --------------------------------------------------------------------------
  # Core Stack Components
  # --------------------------------------------------------------------------
  - type: application
    name: verify_sovereignty.sh
    version: "1.0.0"
    description: Main verification script for sovereignty stack validation
    group: core
    licenses:
      - license:
          id: MIT
    properties:
      - name: component-type
        value: shell-script
      - name: hash-algorithm
        value: SHA-256

  - type: application
    name: sovereignty_stack.yaml
    version: "1.0.0"
    description: YAML specification for the sovereignty stack architecture
    group: core
    licenses:
      - license:
          id: MIT
    properties:
      - name: component-type
        value: configuration

  - type: file
    name: SOVEREIGNTY_STACK_README.md
    version: "1.0.0"
    description: Documentation for the sovereignty stack validation module
    group: documentation
    licenses:
      - license:
          id: MIT

  - type: file
    name: TRUST_DECLARATION.md
    version: "1.0.0"
    description: Trust and provenance declaration
    group: governance
    licenses:
      - license:
          id: MIT

  # --------------------------------------------------------------------------
  # Node.js Dependencies (from package.json)
  # --------------------------------------------------------------------------
  - type: library
    name: discord.js
    version: "14.16.3"
    description: A powerful library for interacting with the Discord API
    group: npm-dependencies
    purl: pkg:npm/discord.js@14.16.3
    licenses:
      - license:
          id: Apache-2.0

  - type: library
    name: express
    version: "4.21.1"
    description: Fast, unopinionated, minimalist web framework
    group: npm-dependencies
    purl: pkg:npm/express@4.21.1
    licenses:
      - license:
          id: MIT

  - type: library
    name: body-parser
    version: "1.20.3"
    description: Node.js body parsing middleware
    group: npm-dependencies
    purl: pkg:npm/body-parser@1.20.3
    licenses:
      - license:
          id: MIT

  - type: library
    name: "@octokit/webhooks"
    version: "13.3.0"
    description: GitHub webhook events toolset
    group: npm-dependencies
    purl: pkg:npm/%40octokit/webhooks@13.3.0
    licenses:
      - license:
          id: MIT

  - type: library
    name: js-yaml
    version: "4.1.0"
    description: YAML 1.2 parser and serializer
    group: npm-dependencies
    purl: pkg:npm/js-yaml@4.1.0
    licenses:
      - license:
          id: MIT

  - type: library
    name: zod
    version: "3.23.8"
    description: TypeScript-first schema validation
    group: npm-dependencies
    purl: pkg:npm/zod@3.23.8
    licenses:
      - license:
          id: MIT

  - type: library
    name: node-fetch
    version: "3.3.2"
    description: A light-weight module that brings Fetch API to Node.js
    group: npm-dependencies
    purl: pkg:npm/node-fetch@3.3.2
    licenses:
      - license:
          id: MIT

  # Dev Dependencies
  - type: library
    name: typescript
    version: "5.6.3"
    description: TypeScript language
    group: npm-dev-dependencies
    purl: pkg:npm/typescript@5.6.3
    licenses:
      - license:
          id: Apache-2.0

  - type: library
    name: tsx
    version: "4.19.2"
    description: TypeScript Execute - Node.js with TypeScript support
    group: npm-dev-dependencies
    purl: pkg:npm/tsx@4.19.2
    licenses:
      - license:
          id: MIT

  - type: library
    name: eslint
    version: "9.12.0"
    description: An AST-based pattern checker for JavaScript
    group: npm-dev-dependencies
    purl: pkg:npm/eslint@9.12.0
    licenses:
      - license:
          id: MIT

  # --------------------------------------------------------------------------
  # Infrastructure Components
  # --------------------------------------------------------------------------
  - type: container
    name: docker-compose-cloudos
    version: "1.0.0"
    description: CloudOS Docker Compose stack
    group: infrastructure
    properties:
      - name: component-type
        value: docker-compose

  - type: container
    name: docker-compose-recon
    version: "1.0.0"
    description: RECON Docker Compose stack
    group: infrastructure
    properties:
      - name: component-type
        value: docker-compose

  # --------------------------------------------------------------------------
  # Governance Components
  # --------------------------------------------------------------------------
  - type: data
    name: access_matrix.yaml
    version: "1.0.0"
    description: Access control matrix for RBAC
    group: governance
    properties:
      - name: component-type
        value: policy-file

  - type: file
    name: SECURITY.md
    version: "1.0.0"
    description: Security policy documentation
    group: governance

  - type: file
    name: LICENSE
    version: "1.0.0"
    description: MIT License
    group: legal
    licenses:
      - license:
          id: MIT

# ============================================================================
# DEPENDENCIES
# ============================================================================
dependencies:
  - ref: verify_sovereignty.sh
    dependsOn:
      - bash
      - sha256sum
      - git
      - python3

  - ref: discord.js
    dependsOn:
      - "@discordjs/builders"
      - "@discordjs/collection"
      - "@discordjs/formatters"

  - ref: express
    dependsOn:
      - body-parser

# ============================================================================
# VULNERABILITIES
# ============================================================================
vulnerabilities: []
# Note: Run `npm audit` or security scanning tools to populate this section

# ============================================================================
# SERVICES
# ============================================================================
services:
  - name: discord-ops-bot
    description: Discord bot for DevOps operations
    endpoints:
      - discord.com

  - name: event-gateway
    description: Webhook event router
    endpoints:
      - /webhook
      - /health

# ============================================================================
# EXTERNAL REFERENCES
# ============================================================================
externalReferences:
  - type: documentation
    url: https://github.com/Strategickhaos/Sovereignty-Architecture-Elevator-Pitch-/blob/main/SOVEREIGNTY_STACK_README.md

  - type: security-advisories
    url: https://github.com/Strategickhaos/Sovereignty-Architecture-Elevator-Pitch-/security/advisories

  - type: support
    url: https://discord.gg/strategickhaos
