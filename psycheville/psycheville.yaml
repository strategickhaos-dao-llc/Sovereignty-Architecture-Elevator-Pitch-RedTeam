# PsycheVille Configuration
# Self-observing infrastructure for Tools Refinery monitoring

name: "PsycheVille"
version: "1.0.0"
description: "Automated reflection and self-observation system for Sovereignty Architecture"

# Departments (categories of observations)
departments:
  Tools_Refinery:
    description: "Monitors tool creation, usage, and effectiveness"
    log_path: "/app/logs/tools_refinery"
    obsidian_path: "/app/obsidian_vault/PsycheVille/Departments/Tools_Refinery"
    observation_patterns:
      - pattern: "tool_created"
        extract: ["tool_name", "timestamp", "creator"]
      - pattern: "tool_invoked"
        extract: ["tool_name", "timestamp", "parameters", "result"]
      - pattern: "tool_failed"
        extract: ["tool_name", "timestamp", "error"]
    reflection_questions:
      - "Which tools are being used most frequently?"
      - "Which tools are failing and why?"
      - "Are there patterns in tool creation that suggest gaps in capabilities?"
      - "What tools haven't been used recently and should be deprecated?"

  Infrastructure:
    description: "Monitors system health, resource usage, and deployments"
    log_path: "/app/logs/infrastructure"
    obsidian_path: "/app/obsidian_vault/PsycheVille/Departments/Infrastructure"
    observation_patterns:
      - pattern: "deployment"
        extract: ["service", "timestamp", "status"]
      - pattern: "resource_alert"
        extract: ["resource_type", "threshold", "current_value"]
    reflection_questions:
      - "Are any services showing instability?"
      - "What resources are consistently near capacity?"
      - "How have deployments trended over time?"

  AI_Agents:
    description: "Monitors AI agent interactions and performance"
    log_path: "/app/logs/ai_agents"
    obsidian_path: "/app/obsidian_vault/PsycheVille/Departments/AI_Agents"
    observation_patterns:
      - pattern: "agent_query"
        extract: ["agent_name", "query_type", "latency", "success"]
      - pattern: "model_invocation"
        extract: ["model_name", "tokens", "cost"]
    reflection_questions:
      - "Which models are being used most?"
      - "What is the cost breakdown per agent?"
      - "Are there latency issues with specific agents?"

# Reflection Cadence
reflection:
  daily:
    enabled: true
    time: "06:00"  # UTC
    departments: ["Tools_Refinery", "Infrastructure", "AI_Agents"]
  weekly:
    enabled: true
    day: "Sunday"
    time: "08:00"  # UTC
    departments: ["Tools_Refinery", "Infrastructure", "AI_Agents"]
  monthly:
    enabled: false
    day: 1
    time: "10:00"  # UTC
    departments: ["Tools_Refinery", "Infrastructure", "AI_Agents"]

# Report Format
reports:
  format: "markdown"
  template: |
    # PsycheVille Daily Reflection - {{date}}
    
    ## Department: {{department}}
    
    ### Observations
    {{observations}}
    
    ### Patterns Detected
    {{patterns}}
    
    ### Key Insights
    {{insights}}
    
    ### Recommendations
    {{recommendations}}
    
    ---
    *Generated by PsycheVille Self-Observation System*
  
  sections:
    - name: "Observations"
      description: "Raw data from logs"
    - name: "Patterns"
      description: "Detected patterns and trends"
    - name: "Insights"
      description: "Analysis and interpretation"
    - name: "Recommendations"
      description: "Actionable suggestions"

# Storage
storage:
  obsidian_vault_path: "/app/obsidian_vault/PsycheVille"
  log_retention_days: 30
  report_retention_days: 90

# Integration
integrations:
  prometheus:
    enabled: true
    metrics_port: 9091
  discord:
    enabled: false
    webhook_url: "${PSYCHEVILLE_DISCORD_WEBHOOK}"
    notify_on_insights: true
